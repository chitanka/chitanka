<?php namespace App\Service;

class Markdown extends \Michelf\MarkdownExtra {

	protected $em_relist = [
		''  => '(?:(?<!\*)\*(?!\*)|(?<![a-zA-Z0-9а-яА-Я_])_(?!_))(?=\S|$)(?![\.,:;]\s)',
		'*' => '(?<=\S|^)(?<!\*)\*(?!\*)',
		'_' => '(?<=\S|^)(?<!_)_(?![a-zA-Z0-9а-яА-Я_])',
	];
	protected $strong_relist = [
		''   => '(?:(?<!\*)\*\*(?!\*)|(?<![a-zA-Z0-9а-яА-Я_])__(?!_))(?=\S|$)(?![\.,:;]\s)',
		'**' => '(?<=\S|^)(?<!\*)\*\*(?!\*)',
		'__' => '(?<=\S|^)(?<!_)__(?![a-zA-Z0-9а-яА-Я_])',
	];
	protected $em_strong_relist = [
		''    => '(?:(?<!\*)\*\*\*(?!\*)|(?<![a-zA-Z0-9а-яА-Я_])___(?!_))(?=\S|$)(?![\.,:;]\s)',
		'***' => '(?<=\S|^)(?<!\*)\*\*\*(?!\*)',
		'___' => '(?<=\S|^)(?<!_)___(?![a-zA-Z0-9а-яА-Я_])',
	];
}
